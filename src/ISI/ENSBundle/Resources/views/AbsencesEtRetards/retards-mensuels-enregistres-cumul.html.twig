{% extends "ENSBundle:Default:index.html.twig" %}

{% block title %}
  Retards du mois ({{ mois.mois }}) | Cumul
{% endblock %}

{% block contextual_menu %}
  {{ include("ENSBundle:AbsencesEtRetards:contextual-menu-retards-et-absences.html.twig") }}
{% endblock %}

{% block section %}
  <i class="flag checkered icon"></i>{{ 'Retards'|trans }}
{% endblock %}

{% block body %}
  <h3>{{ 'Retards enregistrés pour le mois de '|trans }} {{ mois.mois }}</h3>
  {# Cas de fiches de notes déjà éditées #}
    {% for message in app.session.flashbag.get('error') %}
      <div class="ui red message">
        <div class="header">{{ 'Attention'|trans }} !!! </div>
        <ul class="list">
          <li>{{ message|raw }}</li>
        </ul>
      </div>
    {% endfor %}
    {% for message in app.session.flashbag.get('info') %}
      <div class="ui green message">
        <div class="header">{{ 'Notification'|trans }}: </div>
        <ul class="list">
          <li>{{ message|raw }}.</li>
        </ul>
      </div>
    {% endfor %}
  {# Fin des notifications #}
  <br />
  <p class="accordeon"><center><a href="{{ path('ens_voir_retards_mois', {'as': asec, 'moisId': mois.getId }) }}">------------- Bilan mensuel détaillé -------------</a></center></p>
      
  <table class="ui selectable table">
    <thead>
      <tr>
        <th>{{ 'N°'|trans }}</th>
        <th>{{ 'Matricule'|trans }}</th>
        <th>Nom & Prénom</th>
        <th>الإسم و اللقب</th>
        <th>{{ 'Durée'|trans }}</th>
      </tr>
    </thead>
    <tbody>
      {% set n = 0 %}
      {% for retard in retards %}
        {% set n = n + 1 %}
        <tr>
          <td>{{ n }}</td>
          <td>{{ retard.matricule }}</td>
          <td>{{ retard.nomFr }}</td>
          <td>{{ retard.nomAr }}</td>
          <td>{{ retard.duree }}</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>

{% endblock %}
