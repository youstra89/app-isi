{% extends "ENSBundle::layout.html.twig" %}

{% block title %}
  Fonctions en cours
{% endblock %}

{% block contextual_menu %}
  {{ include("ENSBundle::contextual-menu-fonction.html.twig") }}
{% endblock %}

{% block titre_page %}
  <i class="student icon"></i>{{ 'Fonctions'|trans }}
{% endblock %}

{% block corps %}
    <h2>{{ 'Fonctions en cours'|trans }}</h2>
    {% if contrats is not defined %}
        <p>{{ 'Aucune fonction en cours pour le moment'|trans }}</p>
    {% else %}
        <table id="table-ens" cellspacing="0" class="mytable filterable ui very basic table">
          <thead>
            <tr>
              <th>{{ 'N°'|trans }}</th>
              <th>{{ 'Matricule'|trans }}</th>
              <th>Nom & Prénom</th>
              <th>الإسم و اللقب</th>
              <th>{{ 'Sexe'|trans }}</th>
              <th>{{ 'Date de naissance'|trans }}</th>
              <th>{{ 'Actions'|trans }}</th>
            </tr>
          </thead>
          <tbody>
            {% set n = 0 %}
            {% for contrat in contrats %}
              {% set n = n + 1 %}
              {% set color = "" %}
              {% if (n % 2) == 0 %}
                  {% set color = "WhiteSmoke" %}
              {% endif %}
              <tr bgcolor="{{ color }}">
                <td>{{ n }}</td>
                <td>{{ contrat.getEnseignant.getMatricule }}</td>
                <td>{{ contrat.getEnseignant.getNomFr }} {{ contrat.getEnseignant.getPnomFr }}</td>
                <td>{{ contrat.getEnseignant.getNomAr }} {{ contrat.getEnseignant.getPnomAr }}</td>
                <td>
                  {% if contrat.getEnseignant.getSexe == 1 %}
                    {{ 'ذكر' }}
                  {% else %}
                    {{ 'أنثى' }}
                  {% endif %}
                </td>
                {# <!-- <td>{{ contrat.getEnseignant.getdateNaissance|localizeddate('full', 'none', 'locale') }}</td> --> #}
                <td>{{ contrat.getEnseignant.getDateNaissance|date("d-m-Y") }}</td>
                <td>
                  <a href="{{ path('ens_ajouter_a_l_annee', {'as': asec, 'contratId': contrat.getid}) }}" data-tooltip="Utiliser l'enseignant pour cette année">
                    <i class="plus icon"></i>
                  </a>
                  <a href="{{ path('ens_info', {'as': asec, 'enseignantId': contrat.getEnseignant.getid}) }}" data-tooltip="Voir les informations de l'enseignant">
                    <i class="info circle icon"></i>
                  </a>
                </td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
    {% endif %}
{% endblock %}
